'use client'
import { createContext, useState } from 'react'
import './globals.css'
import { Inter } from 'next/font/google'
const inter = Inter({ subsets: ['latin'] })
import { getAuth, createUserWithEmailAndPassword } from "firebase/auth";
import { app } from '@/firebase.config'

export const metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
}

export const authContext = createContext();//Creating authContext for Context API
const auth = getAuth(app);

export default function RootLayout({ children }) {

  const [userInfo, setUserInfo] = useState();// user information
  const [name, setName] = useState('shafin');

  // Function to register user
  const handleRegistration = (email, password) => {
    console.log(123)

    createUserWithEmailAndPassword(auth, email, password)
    console.log(email, password)
      .then((userCredential) => {
        setUserInfo(userCredential.user)
      })
      .catch((error) => {
        console.log(error.message);
      });
  }


  // These are the value that will be passed through Context API
  const value = {
    name,
    handleRegistration
  }

  return (
    <html lang="en">
      <body className={inter.className}>


        <authContext.Provider value={value}>
          {children}
        </authContext.Provider>



      </body>
    </html>
  )
}
